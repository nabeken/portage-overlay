diff -Naur linden.orig/indra/SConstruct linden/indra/SConstruct
--- linden.orig/indra/SConstruct	2007-06-26 08:48:21.000000000 +0900
+++ linden/indra/SConstruct	2007-07-03 00:12:22.000000000 +0900
@@ -133,7 +133,7 @@
 if standalone and platform != 'linux':
     print >> sys.stderr, 'Warning: standalone builds have only been tested on Linux'
 
-standalone_pkgs = 'cairo glib-2.0 gtk+-2.0 sdl vorbis vorbisenc vorbisfile'
+standalone_pkgs = 'cairo glib-2.0 gtk+-2.0 sdl vorbis vorbisenc vorbisfile freetype2'
 
 def pkgconfig(opt, pkgs=None):
     return os.popen('pkg-config %s %s' %
@@ -267,7 +267,7 @@
                                  for d in incdirs]
 
             if elfio:
-                client_external_libs += [ 'elfio' ]
+                client_external_libs += [ 'ELFIO' ]
             else:
                 cppflags += '-DLL_ELFBIN=0 '
 
diff -Naur linden.orig/indra/llcommon/llsdserialize_xml.cpp linden/indra/llcommon/llsdserialize_xml.cpp
--- linden.orig/indra/llcommon/llsdserialize_xml.cpp	2007-06-26 08:48:22.000000000 +0900
+++ linden/indra/llcommon/llsdserialize_xml.cpp	2007-06-27 14:54:31.000000000 +0900
@@ -36,7 +36,7 @@
 
 extern "C"
 {
-#include "expat/expat.h"
+#include "expat.h"
 }
 
 /**
diff -Naur linden.orig/indra/llcommon/llsys.cpp linden/indra/llcommon/llsys.cpp
--- linden.orig/indra/llcommon/llsys.cpp	2007-06-26 08:48:22.000000000 +0900
+++ linden/indra/llcommon/llsys.cpp	2007-06-27 14:54:31.000000000 +0900
@@ -31,7 +31,7 @@
 #include "llsys.h"
 
 #include <iostream>
-#include <zlib/zlib.h>
+#include <zlib.h>
 
 #include "processor.h"
 
diff -Naur linden.orig/indra/llimage/llimagejpeg.h linden/indra/llimage/llimagejpeg.h
--- linden.orig/indra/llimage/llimagejpeg.h	2007-06-26 08:48:23.000000000 +0900
+++ linden/indra/llimage/llimagejpeg.h	2007-06-27 14:54:31.000000000 +0900
@@ -34,8 +34,8 @@
 #include "llimage.h"
 
 extern "C" {
-#include "jpeglib/jpeglib.h"
-#include "jpeglib/jerror.h"
+#include "jpeglib.h"
+#include "jerror.h"
 }
 
 class LLImageJPEG : public LLImageFormatted
diff -Naur linden.orig/indra/llimagej2coj/llimagej2coj.cpp linden/indra/llimagej2coj/llimagej2coj.cpp
--- linden.orig/indra/llimagej2coj/llimagej2coj.cpp	2007-06-26 08:48:23.000000000 +0900
+++ linden/indra/llimagej2coj/llimagej2coj.cpp	2007-06-27 14:54:31.000000000 +0900
@@ -31,7 +31,7 @@
 
 // this is defined so that we get static linking.
 #define OPJ_STATIC
-#include "openjpeg/openjpeg.h"
+#include "openjpeg.h"
 
 #include "lltimer.h"
 #include "llmemory.h"
diff -Naur linden.orig/indra/llmessage/llfiltersd2xmlrpc.cpp linden/indra/llmessage/llfiltersd2xmlrpc.cpp
--- linden.orig/indra/llmessage/llfiltersd2xmlrpc.cpp	2007-06-26 08:48:24.000000000 +0900
+++ linden/indra/llmessage/llfiltersd2xmlrpc.cpp	2007-06-27 14:54:31.000000000 +0900
@@ -77,7 +77,7 @@
 
 #include <sstream>
 #include <iterator>
-#include <xmlrpc-epi/xmlrpc.h>
+#include <xmlrpc.h>
 #include "apr-1/apr_base64.h"
 
 #include "llbuffer.h"
diff -Naur linden.orig/indra/llmessage/llhttpassetstorage.cpp linden/indra/llmessage/llhttpassetstorage.cpp
--- linden.orig/indra/llmessage/llhttpassetstorage.cpp	2007-06-26 08:48:24.000000000 +0900
+++ linden/indra/llmessage/llhttpassetstorage.cpp	2007-06-27 14:54:31.000000000 +0900
@@ -38,7 +38,7 @@
 #include "llvfile.h"
 #include "llvfs.h"
 
-#include "zlib/zlib.h"
+#include "zlib.h"
 
 const U32 MAX_RUNNING_REQUESTS = 1;
 const F32 MAX_PROCESSING_TIME = 0.005f;
diff -Naur linden.orig/indra/llrender/llfont.cpp linden/indra/llrender/llfont.cpp
--- linden.orig/indra/llrender/llfont.cpp	2007-06-26 08:48:25.000000000 +0900
+++ linden/indra/llrender/llfont.cpp	2007-06-27 14:54:31.000000000 +0900
@@ -31,11 +31,11 @@
 #include "llfont.h"
 
 // Freetype stuff
-#if LL_LINUX   // I had to do some work to avoid the system-installed FreeType headers... --ryan.
-#include "llfreetype2/freetype/ft2build.h"
-#else
+// #if LL_LINUX   // I had to do some work to avoid the system-installed FreeType headers... --ryan.
+// #include "llfreetype2/freetype/ft2build.h"
+// #else
 #include <ft2build.h>
-#endif
+// #endif
 
 // For some reason, this won't work if it's not wrapped in the ifdef
 #ifdef FT_FREETYPE_H
diff -Naur linden.orig/indra/llxml/llxmlnode.h linden/indra/llxml/llxmlnode.h
--- linden.orig/indra/llxml/llxmlnode.h	2007-06-26 08:48:26.000000000 +0900
+++ linden/indra/llxml/llxmlnode.h	2007-06-27 14:54:31.000000000 +0900
@@ -30,7 +30,7 @@
 #define LL_LLXMLNODE_H
 
 #define XML_STATIC
-#include "expat/expat.h"
+#include "expat.h"
 #include <map>
 
 #include "indra_constants.h"
diff -Naur linden.orig/indra/llxml/llxmlparser.h linden/indra/llxml/llxmlparser.h
--- linden.orig/indra/llxml/llxmlparser.h	2007-06-26 08:48:26.000000000 +0900
+++ linden/indra/llxml/llxmlparser.h	2007-06-27 14:54:31.000000000 +0900
@@ -30,7 +30,7 @@
 #define LL_LLXMLPARSER_H
 
 #define XML_STATIC
-#include "expat/expat.h"
+#include "expat.h"
 
 class LLXmlParser
 {
diff -Naur linden.orig/indra/newview/lluserauth.cpp linden/indra/newview/lluserauth.cpp
--- linden.orig/indra/newview/lluserauth.cpp	2007-06-26 08:48:31.000000000 +0900
+++ linden/indra/newview/lluserauth.cpp	2007-06-27 14:54:31.000000000 +0900
@@ -42,7 +42,7 @@
 
 // NOTE: MUST include these after otherincludes since queue gets redefined!?!!
 #include <curl/curl.h>
-#include <xmlrpc-epi/xmlrpc.h>
+#include <xmlrpc.h>
 
 
 
diff -Naur linden.orig/indra/newview/llviewerobjectlist.cpp linden/indra/newview/llviewerobjectlist.cpp
--- linden.orig/indra/newview/llviewerobjectlist.cpp	2007-06-26 08:48:33.000000000 +0900
+++ linden/indra/newview/llviewerobjectlist.cpp	2007-06-27 14:54:31.000000000 +0900
@@ -61,7 +61,7 @@
 #include "u64.h"
 #include "llviewerimagelist.h"
 #include "lldatapacker.h"
-#include <zlib/zlib.h>
+#include <zlib.h>
 #include "object_flags.h"
 
 extern BOOL gVelocityInterpolate;
diff -Naur linden.orig/indra/newview/llwebbrowserctrl.h linden/indra/newview/llwebbrowserctrl.h
--- linden.orig/indra/newview/llwebbrowserctrl.h	2007-06-26 08:48:30.000000000 +0900
+++ linden/indra/newview/llwebbrowserctrl.h	2007-06-27 14:54:31.000000000 +0900
@@ -92,6 +92,7 @@
 #include "lldynamictexture.h"
 #include "llmozlib.h"
 
+class LLUICtrlFactory;
 class LLViewBorder;
 class LLWebBrowserTexture;
 
diff -Naur linden.orig/indra/newview/llxmlrpctransaction.cpp linden/indra/newview/llxmlrpctransaction.cpp
--- linden.orig/indra/newview/llxmlrpctransaction.cpp	2007-06-26 08:48:32.000000000 +0900
+++ linden/indra/newview/llxmlrpctransaction.cpp	2007-06-27 14:54:31.000000000 +0900
@@ -34,7 +34,7 @@
 
 // Have to include these last to avoid queue redefinition!
 #include <curl/curl.h>
-#include <xmlrpc-epi/xmlrpc.h>
+#include <xmlrpc.h>
 
 #include "viewer.h"
 
